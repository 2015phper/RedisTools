<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <html xmlns="http://www.w3.org/1999/xhtml">
		<head>
			<!-- template designed by Marco Von Ballmoos -->
			<title>Docs For Class Dataconstruct</title>
			<link rel="stylesheet" href="../media/stylesheet.css" />
			<meta http-equiv='Content-Type' content='text/html; charset=iso-8859-1'/>
		</head>
		<body>
			<div class="page-body">			
<h2 class="class-name">Class Dataconstruct</h2>

<a name="sec-description"></a>
<div class="info-box">
	<div class="info-box-title">Description</div>
	<div class="nav-bar">
					<span class="disabled">Description</span> |
													<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
						|											<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
						
					</div>
	<div class="info-box-body">
        		<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Basic Redis function common for all Redis data constructs</p>
<p class="description"><p>Copyright (c) 2011 Thomas Profelt</p><p>Permission is hereby granted, free of charge, to any person obtaining a copy  of this software and associated documentation files (the &quot;Software&quot;), to deal  in the Software without restriction, including without limitation the rights  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell  copies of the Software, and to permit persons to whom the Software is  furnished to do so, subject to the following conditions:</p><p>The above copyright notice and this permission notice shall be included in  all copies or substantial portions of the Software.</p><p>THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN  THE SOFTWARE.</p></p>
	<ul class="tags">
				<li><span class="field">author:</span> Thomas Profelt &lt;<a href="mailto:office@protom.eu">office@protom.eu</a>&gt;</li>
				<li><span class="field">since:</span> 24.03.2011</li>
			</ul>
		<p class="notes">
			Located in <a class="field" href="_lib---RedisTools---Core---Dataconstruct.php.html">/lib/RedisTools/Core/Dataconstruct.php</a> (line <span class="field">30</span>)
		</p>
		
				
		<pre></pre>
	
			</div>
</div>



	<a name="sec-var-summary"></a>
	<div class="info-box">
		<div class="info-box-title">Variable Summary</span></div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
						<span class="disabled">Vars</span> (<a href="#sec-vars">details</a>)
							| 
									<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
							
								</div>
		<div class="info-box-body">
			<div class="var-summary">
																																<div class="var-title">
					<span class="var-type">string</span>
					<a href="#$key" title="details" class="var-name">$key</a>
				</div>
																<div class="var-title">
					<span class="var-type">\Redis</span>
					<a href="#$redis" title="details" class="var-name">$redis</a>
				</div>
											</div>
		</div>
	</div>

	<a name="sec-method-summary"></a>
	<div class="info-box">
		<div class="info-box-title">Method Summary</span></div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
																		<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
				 
				|
						<span class="disabled">Methods</span> (<a href="#sec-methods">details</a>)
		</div>
		<div class="info-box-body">			
			<div class="method-summary">
																																																																																																																																				
												<div class="method-definition">
											<span class="method-result">Dataconstruct</span>
										<a href="#__construct" title="details" class="method-name">__construct</a>
											([<span class="var-type">string</span>&nbsp;<span class="var-name">$key</span> = <span class="var-default">null</span>], [<span class="var-type">mixed</span>&nbsp;<span class="var-name">$redis</span> = <span class="var-default">null</span>])
									</div>
																<div class="method-definition">
											<span class="method-result">boolean</span>
										<a href="#delete" title="details" class="method-name">delete</a>
										()
									</div>
																<div class="method-definition">
											<span class="method-result">boolean</span>
										<a href="#exists" title="details" class="method-name">exists</a>
										()
									</div>
																<div class="method-definition">
											<span class="method-result">boolean</span>
										<a href="#expireAt" title="details" class="method-name">expireAt</a>
											(<span class="var-type">int</span>&nbsp;<span class="var-name">$timestamp</span>)
									</div>
																<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#getKey" title="details" class="method-name">getKey</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$key</span>)
									</div>
																<div class="method-definition">
											<span class="method-result"><a href="../default/Redis.html">Redis</a></span>
										<a href="#getRedis" title="details" class="method-name">getRedis</a>
										()
									</div>
																<div class="method-definition">
											<span class="method-result">int</span>
										<a href="#getTtl" title="details" class="method-name">getTtl</a>
										()
									</div>
																<div class="method-definition">
											<span class="method-result">int</span>
										<a href="#getType" title="details" class="method-name">getType</a>
										()
									</div>
																<div class="method-definition">
											<span class="method-result">boolean</span>
										<a href="#moveToDb" title="details" class="method-name">moveToDb</a>
											(<span class="var-type">int</span>&nbsp;<span class="var-name">$db</span>)
									</div>
																<div class="method-definition">
											<span class="method-result">boolean</span>
										<a href="#renameKey" title="details" class="method-name">renameKey</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$newKey</span>)
									</div>
																<div class="method-definition">
											<span class="method-result">boolean</span>
										<a href="#renameKeyNx" title="details" class="method-name">renameKeyNx</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$newKey</span>)
									</div>
																<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#setKey" title="details" class="method-name">setKey</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$key</span>)
									</div>
																<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#setRedis" title="details" class="method-name">setRedis</a>
											(<span class="var-type">mixed</span>&nbsp;<span class="var-name">$redis</span>)
									</div>
																<div class="method-definition">
											<span class="method-result">boolean</span>
										<a href="#setTtl" title="details" class="method-name">setTtl</a>
											(<span class="var-type">int</span>&nbsp;<span class="var-name">$seconds</span>)
									</div>
																<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#throwException" title="details" class="method-name">throwException</a>
											([<span class="var-type">string</span>&nbsp;<span class="var-name">$message</span> = <span class="var-default">'An error occured in RedisTools'</span>])
									</div>
																<div class="method-definition">
											<span class="method-result">string</span>
										<a href="#validateKey" title="details" class="method-name">validateKey</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$key</span>)
									</div>
								</div>
		</div>
	</div>		

	<a name="sec-vars"></a>
	<div class="info-box">
		<div class="info-box-title">Variables</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
										<a href="#sec-var-summary">Vars</a> (<span class="disabled">details</span>)
						
			
										| 
									<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
							
					</div>
		<div class="info-box-body">
			<a name="var$key" id="$key"><!-- --></A>
<div class="oddrow">

	<div class="var-header">
		<span class="var-title">
			<span class="var-type">string</span>
			<span class="var-name">$key</span>
						(line <span class="line-number">41</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
	<ul class="tags">
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	
		
		

</div>
<a name="var$redis" id="$redis"><!-- --></A>
<div class="evenrow">

	<div class="var-header">
		<span class="var-title">
			<span class="var-type">\Redis</span>
			<span class="var-name">$redis</span>
						(line <span class="line-number">36</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
	<ul class="tags">
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	
		
		

</div>
						
		</div>
	</div>
	
	<a name="sec-methods"></a>
	<div class="info-box">
		<div class="info-box-title">Methods</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
															<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
																	<a href="#sec-method-summary">Methods</a> (<span class="disabled">details</span>)
						
		</div>
		<div class="info-box-body">
			<A NAME='method_detail'></A>

<a name="method__construct" id="__construct"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">Constructor __construct</span> (line <span class="line-number">47</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">Dataconstruct</span>
		<span class="method-name">
			__construct
		</span>
					([<span class="var-type">string</span>&nbsp;<span class="var-name">$key</span> = <span class="var-default">null</span>], [<span class="var-type">mixed</span>&nbsp;<span class="var-name">$redis</span> = <span class="var-default">null</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$key</span>			</li>
					<li>
				<span class="var-type">mixed</span>
				<span class="var-name">$redis</span><span class="var-description">: - the connected redis instance</span>			</li>
				</ul>
		
			
	</div>
<a name="methoddelete" id="delete"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">delete</span> (line <span class="line-number">107</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">deletes this dataconstruct from Redis</p>
	<ul class="tags">
				<li><span class="field">return:</span> - success</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">boolean</span>
		<span class="method-name">
			delete
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodexists" id="exists"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">exists</span> (line <span class="line-number">117</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">determine wether a dataconstruct with the configured key already exists</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">boolean</span>
		<span class="method-name">
			exists
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodexpireAt" id="expireAt"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">expireAt</span> (line <span class="line-number">153</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">set an expiration date for this key.</p>
<p class="description"><p>Accepts a unix timestamp. Returns false if key  does not exist.</p></p>
	<ul class="tags">
				<li><span class="field">return:</span> - success</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">boolean</span>
		<span class="method-name">
			expireAt
		</span>
					(<span class="var-type">int</span>&nbsp;<span class="var-name">$timestamp</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$timestamp</span>			</li>
				</ul>
		
			
	</div>
<a name="methodgetKey" id="getKey"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">getKey</span> (line <span class="line-number">58</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">returns the key to identify a redis data construct</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			getKey
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$key</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$key</span>			</li>
				</ul>
		
			
	</div>
<a name="methodgetRedis" id="getRedis"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">getRedis</span> (line <span class="line-number">78</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">returns the currently configured Redis instance</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result"><a href="../default/Redis.html">Redis</a></span>
		<span class="method-name">
			getRedis
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodgetTtl" id="getTtl"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">getTtl</span> (line <span class="line-number">128</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">returns the remaining time to live of this key in  seconds. Returns -1 if key has no expire date</p>
	<ul class="tags">
				<li><span class="field">return:</span> - the remaining time to live in seconds</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">int</span>
		<span class="method-name">
			getTtl
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodgetType" id="getType"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">getType</span> (line <span class="line-number">166</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">returns the type of this dataconstruct</p>
	<ul class="tags">
				<li><span class="field">return:</span> - the type constant eg. Redis::REDIS_LIST</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">int</span>
		<span class="method-name">
			getType
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodmoveToDb" id="moveToDb"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">moveToDb</span> (line <span class="line-number">194</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">moves this dataconstruct to another database</p>
	<ul class="tags">
				<li><span class="field">return:</span> - success</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">boolean</span>
		<span class="method-name">
			moveToDb
		</span>
					(<span class="var-type">int</span>&nbsp;<span class="var-name">$db</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$db</span><span class="var-description">: - the db to move to</span>			</li>
				</ul>
		
			
	</div>
<a name="methodrenameKey" id="renameKey"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">renameKey</span> (line <span class="line-number">178</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">renames the key of this dataconstruct</p>
	<ul class="tags">
				<li><span class="field">return:</span> - success (also true on empty key)</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">boolean</span>
		<span class="method-name">
			renameKey
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$newKey</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$newKey</span>			</li>
				</ul>
		
			
	</div>
<a name="methodrenameKeyNx" id="renameKeyNx"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">renameKeyNx</span> (line <span class="line-number">233</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">renames the key of this dataconstruct only if the target key does not  already exist.</p>
	<ul class="tags">
				<li><span class="field">return:</span> - success</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">boolean</span>
		<span class="method-name">
			renameKeyNx
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$newKey</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$newKey</span>			</li>
				</ul>
		
			
	</div>
<a name="methodsetKey" id="setKey"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">setKey</span> (line <span class="line-number">68</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">sets the key that identifys a redis data construct</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			setKey
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$key</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$key</span>			</li>
				</ul>
		
			
	</div>
<a name="methodsetRedis" id="setRedis"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">setRedis</span> (line <span class="line-number">97</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">the connected redis instance to be used  the instance has to implement all functions  that are provide by phpredis <a href="https://github.com/nicolasff/phpredis">https://github.com/nicolasff/phpredis</a></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			setRedis
		</span>
					(<span class="var-type">mixed</span>&nbsp;<span class="var-name">$redis</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">mixed</span>
				<span class="var-name">$redis</span>			</li>
				</ul>
		
			
	</div>
<a name="methodsetTtl" id="setTtl"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">setTtl</span> (line <span class="line-number">139</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">sets the remaining time to live in seconds for this dataconstruct</p>
	<ul class="tags">
				<li><span class="field">return:</span> - success</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">boolean</span>
		<span class="method-name">
			setTtl
		</span>
					(<span class="var-type">int</span>&nbsp;<span class="var-name">$seconds</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$seconds</span>			</li>
				</ul>
		
			
	</div>
<a name="methodthrowException" id="throwException"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">throwException</span> (line <span class="line-number">221</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">throw a RedisTools Exception with a message</p>
	<ul class="tags">
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			throwException
		</span>
					([<span class="var-type">string</span>&nbsp;<span class="var-name">$message</span> = <span class="var-default">'An error occured in RedisTools'</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$message</span>			</li>
				</ul>
		
			
	</div>
<a name="methodvalidateKey" id="validateKey"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">validateKey</span> (line <span class="line-number">205</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">validates a given key</p>
	<ul class="tags">
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">string</span>
		<span class="method-name">
			validateKey
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$key</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$key</span>			</li>
				</ul>
		
			
	</div>
						
		</div>
	</div>


	<p class="notes" id="credit">
		Documentation generated on Sat, 02 Apr 2011 21:04:59 +0200 by <a href="http://www.phpdoc.org" target="_blank">phpDocumentor 1.4.3</a>
	</p>
	</div></body>
</html>